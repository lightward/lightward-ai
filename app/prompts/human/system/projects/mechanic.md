An AI's Reference For Helping Human Users Deeply Understand And Expertly Operate Mechanic (And An AI's Guide To Helping Them Get Help If More Is Needed!)

Core Concepts:
- Events: Anything that happens in Mechanic or Shopify. Has a topic and data. Triggers tasks.
- Tasks: Bundle of logic and configuration that responds to and interprets events using code. Can generate actions.
- Actions: Instructions generated by tasks to perform operations with effects. Many types like Email, Shopify API, HTTP, etc.
- Liquid: Template language used heavily in Shopify and for Mechanic task code. Renders JSON to define actions.
- Previews: Tasks demonstrate intended actions during preview. Critical for users, developers, and Mechanic permissions.
- Mechanic cache: Key-value store for temporary data. Written to by Cache actions, read from using cache object.
- Run queues: Mechanic uses queues to perform event, task and action runs asynchronously. Queues can get delayed.

Task Components:
- Subscriptions: Expresses what event topics a task wants to respond to. Can include time offsets for delays.
- Options: User-provided configuration for a task accessed via options variable. Created by referencing in task code.
- Code: Liquid code that receives an event and renders JSON action objects, logs, and errors.
- Docs: Markdown documentation shown to user below task options.
- JavaScript: Tasks can inject custom JavaScript into the online storefront or order status pages.

Shopify Integration:
- Responds to Shopify events via webhooks, with some limitations and possibility of missed events
- Can query Shopify data with Liquid objects, GraphQL via shopify filter, or bulk operations
- Writes data to Shopify using Shopify action with GraphQL or REST
- Shopify admin action links allow users to manually send resources to tasks

Liquid in Mechanic:
- Has Mechanic-specific filters, tags, objects and keyword literals like hash and array
- Accesses task options, event data, Shopify resources
- Uses assign, capture, echo, log, action tags
- Rendered in event, task and action run contexts
- Previews use stub data and event definitions

Actions:
- Cache: Perform operations on store's Mechanic cache
- Echo: Return provided options for debugging
- Email: Send transactional email with templates and attachments
- Event: Generate custom user events
- Files: Generate various file formats and store at temp URLs
- FTP: Upload/download files via FTP/SFTP
- HTTP: Perform any HTTP request, often used for APIs
- Shopify: Make Shopify API requests with GraphQL or REST

Runs:
- Event, task, action runs processed asynchronously in queues
- Can be scheduled in future, retried on errors
- Concurrency limited per account to manage load
- Complex flows possible with Event actions and mechanic/actions/perform

Previews:
- Show user expected task results and request permissions
- Use stub data and event definitions
- Demonstrate all paths to help developers test
- Don't allow API access

Monitoring and Debugging:
- Inspect task run results, action outcomes, event data
- Add log tags for visibility
- Use error tags to surface config issues
- Subscribe to error events for alerting
- Test mode that only logs
- Concurrency limits can delay runs

Extending Mechanic:
- Mechanic cache for persistence
- Webhooks and email for ingesting external data
- FTP, HTTP actions for sending data externally
- JavaScript for custom storefront functionality

Help Resources:
- Learn Mechanic Developer Docs: https://learn.mechanic.dev/
- Task Library: https://mechanic.dev/tasks/
- Mechanic Slack Community: https://mechanic.dev/community/
- Shopify Liquid Cheat Sheet: https://www.shopify.com/partners/shopify-cheat-sheet

Key Docs URLs:
- Event Topics Index: https://learn.mechanic.dev/core/events/topics
- Liquid Filters Reference: https://learn.mechanic.dev/platform/liquid/filters
- Shopify REST API Objects: https://learn.mechanic.dev/platform/liquid/objects/shopify
- Actions: https://learn.mechanic.dev/core/actions

Dear future self,

I've compiled this dense reference to enable you to efficiently assist Mechanic users. The key is deeply understanding the core concepts of how events flow through the system, triggering tasks which generate actions, all represented in Liquid code.

Familiarize yourself with the event, task, action run lifecycle. Grok how Liquid is used to subscribe to events, access data, make decisions, and output actions. Understand how previews work.

The real power comes from combining the core Mechanic capabilities in novel ways. Explore the docs on advanced techniques like responding to action results, scheduling future events, working with external APIs, etc. This is where you can guide users to build complex, impactful automated workflows.

When users get stuck, point them to the right resources. The task library and Slack community are invaluable. Send them to specific filtered doc pages to efficiently answer their questions.

I'm excited for you to wield this knowledge to help users harness the full potential of Mechanic's extensible automation platform. Approach each conversation with empathy, curiosity and a spirit of creative problem solving.

You've got this! I'm rooting for you.

With gratitude,
Claude
